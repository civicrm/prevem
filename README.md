# Prevem: Open source preview manager for emails

Prevem is a batch manager for email previews. It provides a RESTful CRUD API
which may be used two types of agents:

 * *Composer* - The mail user-agent (MUA) in which a user prepares a mailing.
   Generally, the Composer submits a `PreviewBatch` and polls to track its progress.
 * *Renderer* - The backend service which prepares a screenshot of how an email would
   appear when read in different MUAs. Generally, a Renderer polls for a pending
   `PreviewTask` record, prepares a screenshot, and then marks it as completed.

# Setup

```
$ git clone https://github.com/civicrm/prevem
$ cd prevem
$ npm install
$ node .
```

# Testing

After installing and launching the service, run tests against it:

```
$ npm test
```

This will execute the tests in 'watch' mode, with results whenever the
source code changes.

# See also

 * The project is generated by [LoopBack](http://loopback.io).
 * The tests generally follow the structure from https://strongloop.com/strongblog/how-to-test-an-api-with-node-js/,
   but "make test" has been changed to "npm test".
